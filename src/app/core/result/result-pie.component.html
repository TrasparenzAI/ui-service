@if (isWorkflowLoaded) {
  <form *ngIf="filterFormSearch" class="clearfix my-3 px-2 shadow" [formGroup]="filterFormSearch" >
    <div class="row col-md-12">
        <div class="form-group mb-1 col-md-5">
            <ng-select [clearable]="false" formControlName="workflowId" [placeholder]="'it.workflow.id'| translate">
                @for (workflow of optionsWorkflow; track workflow.value) {
                    <ng-option [value]="workflow.value">{{workflow.text}}</ng-option>
                }
            </ng-select>
        </div>
        <div class="form-group mb-1 col-md-5">
            <ng-select [clearable]="false" formControlName="ruleName" class="break-spaces" [placeholder]="'it.rule.name'| translate">
                @for (rule of optionsRule; track rule.value) {
                    <ng-option [value]="rule.value">{{rule.text}}</ng-option>
                }
            </ng-select>
        </div>
        <div class="form-group mb-1 col-md-2">
            <div class="pt-2 pull-right">
                <span class="h4 font-monospace pe-2" translate>it.workflow.rule.total</span>
                <span class="h4 font-monospace">
                    <it-spinner class="mx-5" *ngIf="!isPieLoaded" small="true" double="true"></it-spinner>
                    <span *ngIf="isPieLoaded">{{total| number: undefined : 'it-IT'}}</span>
                </span>
            </div>
        </div>
    </div>
  </form>
}
<div #chartdiv class="w-100" [style]="chartDivStyle">
    @if (!isPieLoaded) {
        <div>
            <div class="overlay-spinner">
                <div class="d-flex justify-content-center">
                    <it-spinner double="true"></it-spinner>
                </div>
            </div>
        </div>
    }    
</div>

